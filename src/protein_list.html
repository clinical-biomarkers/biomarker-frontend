<!-------------------------------------
@author: Rupali Mahadik
@description: UO1 Version-1.0.1
@createDate July 18, 2018
@update: October 24, 2018 
---------------------------------------->
<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123338976-1"></script>
    <script async src="js/ga.js" type="text/javascript"></script>

    <meta charset="utf-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <title>List page - glygen</title>
    <link rel="stylesheet" type="text/css" href="libraries/bootstrap/css/bootstrap.min.css">
    
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <link rel="stylesheet" type="text/css" href="libraries/bootstrap/css/bootstrap-table.min.css">
    <link rel="stylesheet" type="text/css" href="css/list.css">
    <link rel="stylesheet" type="text/css" href="css/alertify.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/server.css">
    
        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="images/icons/favicomatic/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/icons/favicomatic/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/icons/favicomatic/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/icons/favicomatic/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="images/icons/favicomatic/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/icons/favicomatic/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="images/icons/favicomatic/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/icons/favicomatic/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="images/icons/favicomatic/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="images/icons/favicomatic/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="images/icons/favicomatic/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="images/icons/favicomatic/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="images/icons/favicomatic/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="GlyGen"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="images/icons/favicomatic/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="images/icons/favicomatic/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="images/icons/favicomatic/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="images/icons/favicomatic/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="images/icons/favicomatic/mstile-310x310.png" />

</head>

<body onload="tracking()">
    <div id="loading_image">
        <img src="images/page_loading.gif" />
    </div>
    <script type="text/javascript" src="libraries/w3.js"></script>

    <div w3-include-html="header.html"></div>
    <script>w3.includeHTML();</script>
    <!-- page content starts here -->

    <div class="container-fluid" id="listview">
        <div class="row">
            <div id="summary-table" class="col-md-12 col-xs-12">
                <!-- Summary Table Goes Here -->
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 col-xs-12">
                <form class="form-inline col-sm-10" onsubmit="return false;">
                    <label>Page</label>
                    <button type="button" class="btn btn-primary prevbutton" onclick="prev();">Prev</button>
                    <select class="page-select form-control" onchange="xpage(this);"></select>
                    <button type="button" class="btn btn-primary nextbutton" onclick="next();">Next</button>
                    <label>Records per page</label>
                    <select class="limit-select form-control" onchange="xlimit(this);">
                        <option selected>20</option>
                        <option>40</option>
                        <option>60</option>
                        <option>80</option>
                    </select>
                    <label class="searchresult"></label>
                </form>
                <div class="dropdown gg-download text-right col-sm-2">
                    <button class="btn btn-link btn-link-detail dropdown-toggle" type="button" id="download"
                        alt="Download results" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                        <i class="glyphicon glyphicon-save"></i> DOWNLOAD
                        <span class="caret"></span>
                    </button>
                    <div class="dropdown-menu dropdown-menu-list dropdown-menu-right" aria-labelledby="download">
                        <div class="row">
                            <div class="col-md-7"><label>Download&nbsp;format: </label> </div>
                            <div class="col-md-5"><select id='download_format'>
                                    <option value='csv'>CSV</option>
                                    <option value='fasta'>FASTA</option>
                                    <option value='json'>JSON</option>
                                </select></div>
                        </div>
                        <div class="row">
                            <div class="col-md-7"><label>Compressed: </label></div>
                            <div class="col-md-5"><input type='checkbox' id='download_compression' /></div>
                        </div>
                        <div class="row">
                            <div class="col-md-9"></div>
                            <div class="col-md-3">
                                <button class="btn-default" onclick="downloadPrompt();">OK</button>
                            </div>
                        </div>
                    </div>
                </div>               
            </div>
        </div>
        <!-- sorting_top-end -->

        <script id="summary-template" type="text/template">
            <div class="panel panel-default results-table-top">
                <div class="panel-heading"><center><h3>Summary of your Protein Search<h3></center></div>

                <h6><center>Performed on: {{execution_time}} (EST)</center></h6>

                 <div align="center">
                        {{question}}
                    <table class="table table-hover">
                        <tbody class="col-sm-9">

                        <!--Protein Typeahead-->
                        {{#uniprot_canonical_ac}}
                        <tr>
                            <td>UniProtK Accession:</td>
                            <td>{{uniprot_canonical_ac}}</td>
                        </tr>
                        {{/uniprot_canonical_ac}}

                        <!--mass-->

                        {{#mass.min}}
                        <tr>
                            <td>Mass:</td>
                            {{#mass.min}}
                            <td>{{mass.min}}{{/mass.min}} - {{#mass.max}}{{mass.max}}  Da</td>
                            {{/mass.max}}
                        </tr>
                        {{/mass.min}}


                        <!--Organism-->
                        {{#organism.name}}
                        <tr>
                            <td>Species:</td>
                            <td>
                                {{organism.name}}</td>
                        </tr>
                        {{/organism.name}}

                        <!--Protein name Typeahead-->

                        {{#protein_name}}
                        <tr>
                            <td>Protein Name:</td>
                            <td>{{protein_name}}</td>
                        </tr>
                        {{/protein_name}}

                        <!--Gene Typeahead-->

                        {{#gene_name}}
                        <tr>
                            <td>Gene Name:</td>
                            <td>{{gene_name}}</td>
                        </tr>
                        {{/gene_name}}

                        <!--peptide seq-->
                        {{#sequence.aa_sequence}}
                        <tr>
                            <td>Sequence:</td>
                            <td><abbr class="limit-text-size"
                                      title="{{sequence.aa_sequence}}">{{sequence.aa_sequence}}</abbr>
                                <!--<span-->
                                    <!--style="display:inline-block; overflow: auto;">{{sequence.type}}</span>-->
                            </td>
                        </tr>
                        {{/sequence.aa_sequence}}

                        <!--pathway Typeahead-->
                        {{#pathway_id}}
                        <tr>
                            <td>Pathway Id:</td>
                            <td>{{pathway_id}}</td>
                        </tr>
                        {{/pathway_id}}

                        <!--RefSeq Accession: Typeahead-->
                        {{#refseq_ac}}
                        <tr>
                            <td>RefSeq Accession:</td>
                            <td>{{refseq_ac}}</td>
                        </tr>
                        {{/refseq_ac}}

                        {{#term}}
                        <tr>
                            <td>Search Term:</td>
                            <td>{{term}}</td>
                        </tr>
                        {{/term}}
                        
                        {{#term_category}}
                        <tr>
                            <td>Search Category:</td>
                            <td>{{term_category}}</td>
                        </tr>
                        {{/term_category}}

                        </tbody>
                    </table>
                </div>

                <div align="center">
                    <button type="button" class="btn btn-primary-updateSearch"  onclick="LoadDataList();">Update Results</button>
                    
                    &nbsp; &nbsp;
                    
                    <button type="button" class="btn btn-primary"  onclick="editSearch();">Modify Search</button>

                    <p class="small">** To perform the same search again using the current version of the database, click <strong>“Update Results”</strong>.</p> 
                </div>
            </div>
        </script>

        <div class="row">
            <div class="col-md-12 col-xs-12">
                <table id="gen-table" data-show-export="true" data-toggle="table" data-sort-name="protein_name_long" data-sort-order="desc">
                    <thead>
                        <tr>
                            <th data-field="uniprot_canonical_ac" data-formatter="PageFormat" data-sortable="true">UniProtKB Accession</th>
                            <th data-field="gene_name" data-sortable="true">Gene Name</th>
                            <th data-field="protein_name_long" data-sortable="true">UniProtKB Name</th>
                            <th data-field="mass" data-formatter="MassFormatter" data-sortable="true">Chemical Mass (Da)
                            </th>
                            <th data-field="organism" data-sortable="true">Organism</th>
                            <th data-field="refseq_name" data-sortable="true">RefSeq Name</th>
                            <th data-field="refseq_ac" data-sortable="true">RefSeq Accession</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
        <!-- table container ends here -->
        <!-- sorting_bottom -->
        <div class="row" style="padding-left: 1%;">
            <div class="col-md-12 col-xs-12" id="sortbottom">
                <form class="form-inline" onsubmit="return false;">
                    <label>Page</label>
                    <button type="button previ" class="btn btn-primary prevbutton" onclick="prev();">Prev</button>
                    <select class="page-select form-control" onchange="xpage(this);"></select>
                    <button type="button next" class="btn btn-primary nextbutton" onclick="next();">Next</button>
                    <label>Records per page</label>
                    <select class="limit-select form-control" onchange="xlimit(this);">
                        <option selected>20</option>
                        <option>40</option>
                        <option>60</option>
                        <option>80</option>
                    </select>
                    <label class="searchresult"></label>
                </form>
                <!--<label class="searchresult"></label>-->
            </div>
        </div>
    </div>
    <div w3-include-html="footer.html"></div>
    <script>w3.includeHTML();</script>

    <!--&lt;!&ndash; jQuery (necessary for Bootstrap's JavaScript plugins) &ndash;&gt;-->

    <script type="text/javascript" src="libraries/jquery/jquery-3.1.js"></script>
    <!-- script for table -->
    <script type="text/javascript" src="libraries/bootstrap/js/bootstrap-table.min.js"></script>
    <!-- script for time for queryserach -->
    <script type="text/javascript" src="libraries/moment.js"></script>
    <script type="text/javascript" src="libraries/momentzone.js"></script>
    <!-- script for template engine -->
    <script type="text/javascript" src="libraries/mustache.js"></script>
    <!-- script for getting Web Service URLs -->
    <script type="text/javascript" src="js/domain_url.js"></script>
    <script type="text/javascript" src="js/ws_url.js"></script>
    <!-- script for pagination page -->
    <script type="text/javascript" src="js/pagination.js"></script>
    <!-- script for error-message/header-footer js -->
    <script src="js/utility.js"></script>
    <script src="js/config.js"></script>
    <!-- script for glycan list page -->
    <script type="text/javascript" src="js/protein_list.js"></script>
    <!-- script for third party-->
    <script type="text/javascript" src="libraries/bootstrap/js/bootstrap.min.js"></script>
    <!-- script for getting Web Service URLs -->
    <script type="text/javascript" src="libraries/alertify.js"></script>
    <!-- script for third party alert-->
    <script src="js/activity_tracker.js"></script>
    <!-- script for navaigation -->
    <script src="js/navbar.js"></script>
    <!--  w3 including footer-->
    <!-- script for editing users search  -->
    <script src="js/edit_search.js"></script>
    <!-- downloading files js -->
    <script src="libraries/download.js"></script>

</body>

</html>